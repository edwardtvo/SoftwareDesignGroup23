function cov_gxezpytn7(){var path="/home/cdooley/Documents/2021_Spring/SoftwareDesign/SoftwareDesignGroup23/fuel-quote-app/server/models/user-schema.js";var hash="23a221fc34d92c36c27e598f6b04a3909dae20f3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/cdooley/Documents/2021_Spring/SoftwareDesign/SoftwareDesignGroup23/fuel-quote-app/server/models/user-schema.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:15},end:{line:2,column:30}},"2":{start:{line:3,column:15},end:{line:3,column:32}},"3":{start:{line:6,column:19},end:{line:6,column:21}},"4":{start:{line:8,column:18},end:{line:15,column:2}},"5":{start:{line:16,column:17},end:{line:85,column:2}},"6":{start:{line:37,column:28},end:{line:37,column:57}},"7":{start:{line:38,column:16},end:{line:38,column:37}},"8":{start:{line:47,column:28},end:{line:47,column:60}},"9":{start:{line:48,column:16},end:{line:48,column:37}},"10":{start:{line:60,column:28},end:{line:60,column:46}},"11":{start:{line:61,column:16},end:{line:61,column:37}},"12":{start:{line:74,column:28},end:{line:74,column:41}},"13":{start:{line:75,column:16},end:{line:75,column:37}},"14":{start:{line:87,column:0},end:{line:105,column:5}},"15":{start:{line:89,column:4},end:{line:104,column:5}},"16":{start:{line:91,column:23},end:{line:91,column:27}},"17":{start:{line:92,column:6},end:{line:101,column:9}},"18":{start:{line:94,column:8},end:{line:100,column:9}},"19":{start:{line:95,column:10},end:{line:95,column:20}},"20":{start:{line:98,column:10},end:{line:98,column:45}},"21":{start:{line:99,column:10},end:{line:99,column:17}},"22":{start:{line:103,column:6},end:{line:103,column:13}},"23":{start:{line:110,column:0},end:{line:116,column:1}},"24":{start:{line:111,column:4},end:{line:115,column:5}},"25":{start:{line:112,column:8},end:{line:112,column:43}},"26":{start:{line:114,column:8},end:{line:114,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:36,column:23},end:{line:36,column:24}},loc:{start:{line:36,column:36},end:{line:39,column:13}},line:36},"1":{name:"(anonymous_1)",decl:{start:{line:46,column:23},end:{line:46,column:24}},loc:{start:{line:46,column:36},end:{line:49,column:13}},line:46},"2":{name:"(anonymous_2)",decl:{start:{line:59,column:23},end:{line:59,column:24}},loc:{start:{line:59,column:36},end:{line:62,column:13}},line:59},"3":{name:"(anonymous_3)",decl:{start:{line:73,column:23},end:{line:73,column:24}},loc:{start:{line:73,column:36},end:{line:76,column:13}},line:73},"4":{name:"(anonymous_4)",decl:{start:{line:87,column:23},end:{line:87,column:24}},loc:{start:{line:87,column:38},end:{line:105,column:3}},line:87},"5":{name:"(anonymous_5)",decl:{start:{line:93,column:8},end:{line:93,column:9}},loc:{start:{line:93,column:38},end:{line:101,column:7}},line:93},"6":{name:"(anonymous_6)",decl:{start:{line:110,column:25},end:{line:110,column:26}},loc:{start:{line:110,column:36},end:{line:116,column:1}},line:110}},branchMap:{"0":{loc:{start:{line:89,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:104,column:5}},{start:{line:89,column:4},end:{line:104,column:5}}],line:89},"1":{loc:{start:{line:89,column:8},end:{line:89,column:49}},type:"binary-expr",locations:[{start:{line:89,column:8},end:{line:89,column:18}},{start:{line:89,column:22},end:{line:89,column:49}}],line:89},"2":{loc:{start:{line:94,column:8},end:{line:100,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:100,column:9}},{start:{line:94,column:8},end:{line:100,column:9}}],line:94}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"23a221fc34d92c36c27e598f6b04a3909dae20f3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_gxezpytn7=function(){return actualCoverage;};}return actualCoverage;}cov_gxezpytn7();const mongoose=(cov_gxezpytn7().s[0]++,require('mongoose'));const Schema=(cov_gxezpytn7().s[1]++,mongoose.Schema);const bcrypt=(cov_gxezpytn7().s[2]++,require('bcrypt'));// https://mongoosejs.com/docs/populate.html
const saltRounds=(cov_gxezpytn7().s[3]++,10);let quoteSchema=(cov_gxezpytn7().s[4]++,new Schema({//_id: {type: mongoose.Schema.Types.ObjectId},
gallons_requested:Number,delivery_date:{type:Date},delivery_address:{type:String}},{collection:'quotes'}));let userSchema=(cov_gxezpytn7().s[5]++,new Schema({//_id: mongoose.Schema.Types.ObjectId,
username:{type:String,required:true,unique:true/*validate: { validator: function (i) {
            var regex = /[a-zA-Z0-9\.\-\'\_]{6,30}$/;
            return regex.test(i);
        }, message: 'Please provide a proper username with at least 6 characters' }*/},password:{type:String,required:true,message:'Please provide a password'},fullname:{type:String,//required: true,
validate:{validator:function(i){cov_gxezpytn7().f[0]++;var regex=(cov_gxezpytn7().s[6]++,/[A-Za-z0-9\.\-\'\s]{1,100}$/);cov_gxezpytn7().s[7]++;return regex.test(i);},message:'Please enter a real full name'}},address1:{type:String,//required: true,
validate:{validator:function(i){cov_gxezpytn7().f[1]++;var regex=(cov_gxezpytn7().s[8]++,/[A-Za-z0-9\.\-\'\,#\s]{1,150}$/);cov_gxezpytn7().s[9]++;return regex.test(i);},message:'Address is required'}},address2:{type:String},city:{type:String,//required: true,
validate:{validator:function(i){cov_gxezpytn7().f[2]++;var regex=(cov_gxezpytn7().s[10]++,/[A-Za-z]{1,100}$/);cov_gxezpytn7().s[11]++;return regex.test(i);},message:'City is required'}},state:{type:String//required: true
},zipcode:{type:String,//required: true,
validate:{validator:function(i){cov_gxezpytn7().f[3]++;var regex=(cov_gxezpytn7().s[12]++,/[0-9]{5,9}$/);cov_gxezpytn7().s[13]++;return regex.test(i);},message:'Please enter a valid zip code'}},quoteInfo:[{gallons_requested:{type:Number},delivery_date:{type:Date}}]},{collection:'users'}));cov_gxezpytn7().s[14]++;userSchema.pre('save',function(next){cov_gxezpytn7().f[4]++;cov_gxezpytn7().s[15]++;// Check if document is new or a new password has been set
if((cov_gxezpytn7().b[1][0]++,this.isNew)||(cov_gxezpytn7().b[1][1]++,this.isModified('password'))){cov_gxezpytn7().b[0][0]++;// Saving reference to this because of changing scopes
const document=(cov_gxezpytn7().s[16]++,this);cov_gxezpytn7().s[17]++;bcrypt.hash(document.password,saltRounds,function(err,hashedPassword){cov_gxezpytn7().f[5]++;cov_gxezpytn7().s[18]++;if(err){cov_gxezpytn7().b[2][0]++;cov_gxezpytn7().s[19]++;next(err);}else{cov_gxezpytn7().b[2][1]++;cov_gxezpytn7().s[20]++;document.password=hashedPassword;cov_gxezpytn7().s[21]++;next();}});}else{cov_gxezpytn7().b[0][1]++;cov_gxezpytn7().s[22]++;next();}});// https://www.sitepoint.com/understanding-module-exports-exports-node-js/
//module.exports = mongoose.model('User', userSchema);
cov_gxezpytn7().s[23]++;exports.registerModels=function(){cov_gxezpytn7().f[6]++;cov_gxezpytn7().s[24]++;try{cov_gxezpytn7().s[25]++;mongoose.model('user',userSchema);}catch(error){cov_gxezpytn7().s[26]++;console.log(error);}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItc2NoZW1hLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsImJjcnlwdCIsInNhbHRSb3VuZHMiLCJxdW90ZVNjaGVtYSIsImdhbGxvbnNfcmVxdWVzdGVkIiwiTnVtYmVyIiwiZGVsaXZlcnlfZGF0ZSIsInR5cGUiLCJEYXRlIiwiZGVsaXZlcnlfYWRkcmVzcyIsIlN0cmluZyIsImNvbGxlY3Rpb24iLCJ1c2VyU2NoZW1hIiwidXNlcm5hbWUiLCJyZXF1aXJlZCIsInVuaXF1ZSIsInBhc3N3b3JkIiwibWVzc2FnZSIsImZ1bGxuYW1lIiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJpIiwicmVnZXgiLCJ0ZXN0IiwiYWRkcmVzczEiLCJhZGRyZXNzMiIsImNpdHkiLCJzdGF0ZSIsInppcGNvZGUiLCJxdW90ZUluZm8iLCJwcmUiLCJuZXh0IiwiaXNOZXciLCJpc01vZGlmaWVkIiwiZG9jdW1lbnQiLCJoYXNoIiwiZXJyIiwiaGFzaGVkUGFzc3dvcmQiLCJleHBvcnRzIiwicmVnaXN0ZXJNb2RlbHMiLCJtb2RlbCIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Im9oSUFlWTt5RkFmWixLQUFNQSxDQUFBQSxRQUFRLHlCQUFHQyxPQUFPLENBQUMsVUFBRCxDQUFWLENBQWQsQ0FDQSxLQUFNQyxDQUFBQSxNQUFNLHlCQUFHRixRQUFRLENBQUNFLE1BQVosQ0FBWixDQUNBLEtBQU1DLENBQUFBLE1BQU0seUJBQUdGLE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBWixDQUNBO0FBRUEsS0FBTUcsQ0FBQUEsVUFBVSx5QkFBRyxFQUFILENBQWhCLENBRUEsR0FBSUMsQ0FBQUEsV0FBVyx5QkFBRyxHQUFJSCxDQUFBQSxNQUFKLENBQVcsQ0FDekI7QUFDQUksaUJBQWlCLENBQUVDLE1BRk0sQ0FHekJDLGFBQWEsQ0FBRSxDQUFDQyxJQUFJLENBQUVDLElBQVAsQ0FIVSxDQUl6QkMsZ0JBQWdCLENBQUUsQ0FBQ0YsSUFBSSxDQUFFRyxNQUFQLENBSk8sQ0FBWCxDQUtmLENBQ0NDLFVBQVUsQ0FBRSxRQURiLENBTGUsQ0FBSCxDQUFmLENBUUEsR0FBSUMsQ0FBQUEsVUFBVSx5QkFBRyxHQUFJWixDQUFBQSxNQUFKLENBQVcsQ0FDeEI7QUFDQWEsUUFBUSxDQUFFLENBQ05OLElBQUksQ0FBRUcsTUFEQSxDQUVOSSxRQUFRLENBQUUsSUFGSixDQUdOQyxNQUFNLENBQUUsSUFDUjtBQUNSO0FBQ0E7QUFDQSxxRkFQYyxDQUZjLENBV3hCQyxRQUFRLENBQUUsQ0FDTlQsSUFBSSxDQUFFRyxNQURBLENBRU5JLFFBQVEsQ0FBRSxJQUZKLENBR05HLE9BQU8sQ0FBRSwyQkFISCxDQVhjLENBZ0J4QkMsUUFBUSxDQUFFLENBQ05YLElBQUksQ0FBRUcsTUFEQSxDQUVOO0FBQ0FTLFFBQVEsQ0FBRSxDQUNOQyxTQUFTLENBQUUsU0FBVUMsQ0FBVixDQUFhLHdCQUNwQixHQUFJQyxDQUFBQSxLQUFLLHlCQUFHLDZCQUFILENBQVQsQ0FEb0IsdUJBRXBCLE1BQU9BLENBQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXRixDQUFYLENBQVAsQ0FDSCxDQUpLLENBSUhKLE9BQU8sQ0FBRSwrQkFKTixDQUhKLENBaEJjLENBMEJ4Qk8sUUFBUSxDQUFFLENBQ05qQixJQUFJLENBQUVHLE1BREEsQ0FFTjtBQUNBUyxRQUFRLENBQUUsQ0FDTkMsU0FBUyxDQUFFLFNBQVVDLENBQVYsQ0FBYSx3QkFDcEIsR0FBSUMsQ0FBQUEsS0FBSyx5QkFBRyxnQ0FBSCxDQUFULENBRG9CLHVCQUVwQixNQUFPQSxDQUFBQSxLQUFLLENBQUNDLElBQU4sQ0FBV0YsQ0FBWCxDQUFQLENBQ0gsQ0FKSyxDQUlISixPQUFPLENBQUUscUJBSk4sQ0FISixDQTFCYyxDQW9DeEJRLFFBQVEsQ0FBRSxDQUNObEIsSUFBSSxDQUFFRyxNQURBLENBcENjLENBdUN4QmdCLElBQUksQ0FBRSxDQUNGbkIsSUFBSSxDQUFFRyxNQURKLENBRUY7QUFDQVMsUUFBUSxDQUFFLENBQ05DLFNBQVMsQ0FBRSxTQUFVQyxDQUFWLENBQWEsd0JBQ3BCLEdBQUlDLENBQUFBLEtBQUssMEJBQUcsa0JBQUgsQ0FBVCxDQURvQix3QkFFcEIsTUFBT0EsQ0FBQUEsS0FBSyxDQUFDQyxJQUFOLENBQVdGLENBQVgsQ0FBUCxDQUNILENBSkssQ0FJSEosT0FBTyxDQUFFLGtCQUpOLENBSFIsQ0F2Q2tCLENBaUR4QlUsS0FBSyxDQUFFLENBQ0hwQixJQUFJLENBQUVHLE1BQ047QUFGRyxDQWpEaUIsQ0FxRHhCa0IsT0FBTyxDQUFFLENBQ0xyQixJQUFJLENBQUVHLE1BREQsQ0FFTDtBQUNBUyxRQUFRLENBQUUsQ0FDTkMsU0FBUyxDQUFFLFNBQVVDLENBQVYsQ0FBYSx3QkFDcEIsR0FBSUMsQ0FBQUEsS0FBSywwQkFBRyxhQUFILENBQVQsQ0FEb0Isd0JBRXBCLE1BQU9BLENBQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXRixDQUFYLENBQVAsQ0FDSCxDQUpLLENBSUhKLE9BQU8sQ0FBRSwrQkFKTixDQUhMLENBckRlLENBK0R4QlksU0FBUyxDQUFFLENBQUMsQ0FDUnpCLGlCQUFpQixDQUFFLENBQUNHLElBQUksQ0FBRUYsTUFBUCxDQURYLENBRVJDLGFBQWEsQ0FBRSxDQUFDQyxJQUFJLENBQUVDLElBQVAsQ0FGUCxDQUFELENBL0RhLENBQVgsQ0FtRWQsQ0FDQ0csVUFBVSxDQUFFLE9BRGIsQ0FuRWMsQ0FBSCxDQUFkLEMsd0JBdUVBQyxVQUFVLENBQUNrQixHQUFYLENBQWUsTUFBZixDQUF1QixTQUFTQyxJQUFULENBQWUsZ0RBQ2xDO0FBQ0EsR0FBSSxnQ0FBS0MsS0FBTCw4QkFBYyxLQUFLQyxVQUFMLENBQWdCLFVBQWhCLENBQWQsQ0FBSixDQUErQywyQkFDN0M7QUFDQSxLQUFNQyxDQUFBQSxRQUFRLDBCQUFHLElBQUgsQ0FBZCxDQUY2Qyx3QkFHN0NqQyxNQUFNLENBQUNrQyxJQUFQLENBQVlELFFBQVEsQ0FBQ2xCLFFBQXJCLENBQStCZCxVQUEvQixDQUNFLFNBQVNrQyxHQUFULENBQWNDLGNBQWQsQ0FBOEIsZ0RBQzlCLEdBQUlELEdBQUosQ0FBUyxtREFDUEwsSUFBSSxDQUFDSyxHQUFELENBQUosQ0FDRCxDQUZELElBR0ssbURBQ0hGLFFBQVEsQ0FBQ2xCLFFBQVQsQ0FBb0JxQixjQUFwQixDQURHLHdCQUVITixJQUFJLEdBQ0wsQ0FDRixDQVRELEVBVUQsQ0FiRCxJQWFPLG1EQUNMQSxJQUFJLEdBQ0wsQ0FDRixDQWxCSCxFQW9CQTtBQUNBO3dCQUVBTyxPQUFPLENBQUNDLGNBQVIsQ0FBeUIsVUFBVyxnREFDaEMsR0FBSSx5QkFDQXpDLFFBQVEsQ0FBQzBDLEtBQVQsQ0FBZSxNQUFmLENBQXVCNUIsVUFBdkIsRUFDSCxDQUFDLE1BQU82QixLQUFQLENBQWMseUJBQ1pDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaLEVBQ0gsQ0FDSixDQU5EIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcbi8vIGh0dHBzOi8vbW9uZ29vc2Vqcy5jb20vZG9jcy9wb3B1bGF0ZS5odG1sXG5cbmNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcblxubGV0IHF1b3RlU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgLy9faWQ6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWR9LFxuICAgIGdhbGxvbnNfcmVxdWVzdGVkOiBOdW1iZXIsXG4gICAgZGVsaXZlcnlfZGF0ZToge3R5cGU6IERhdGV9LFxuICAgIGRlbGl2ZXJ5X2FkZHJlc3M6IHt0eXBlOiBTdHJpbmd9XG59LCB7XG4gICAgY29sbGVjdGlvbjogJ3F1b3Rlcydcbn0pO1xubGV0IHVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICAvL19pZDogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgLyp2YWxpZGF0ZTogeyB2YWxpZGF0b3I6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgcmVnZXggPSAvW2EtekEtWjAtOVxcLlxcLVxcJ1xcX117NiwzMH0kLztcbiAgICAgICAgICAgIHJldHVybiByZWdleC50ZXN0KGkpO1xuICAgICAgICB9LCBtZXNzYWdlOiAnUGxlYXNlIHByb3ZpZGUgYSBwcm9wZXIgdXNlcm5hbWUgd2l0aCBhdCBsZWFzdCA2IGNoYXJhY3RlcnMnIH0qL1xuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBwcm92aWRlIGEgcGFzc3dvcmQnXG4gICAgfSxcbiAgICBmdWxsbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIC8vcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gL1tBLVphLXowLTlcXC5cXC1cXCdcXHNdezEsMTAwfSQvO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdleC50ZXN0KGkpO1xuICAgICAgICAgICAgfSwgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHJlYWwgZnVsbCBuYW1lJ1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhZGRyZXNzMToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIC8vcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gL1tBLVphLXowLTlcXC5cXC1cXCdcXCwjXFxzXXsxLDE1MH0kLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChpKTtcbiAgICAgICAgICAgIH0sIG1lc3NhZ2U6ICdBZGRyZXNzIGlzIHJlcXVpcmVkJ1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhZGRyZXNzMjoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGNpdHk6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAvL3JlcXVpcmVkOiB0cnVlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdleCA9IC9bQS1aYS16XXsxLDEwMH0kLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChpKTtcbiAgICAgICAgICAgIH0sIG1lc3NhZ2U6ICdDaXR5IGlzIHJlcXVpcmVkJ1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzdGF0ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIC8vcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIHppcGNvZGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAvL3JlcXVpcmVkOiB0cnVlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdleCA9IC9bMC05XXs1LDl9JC87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QoaSk7XG4gICAgICAgICAgICB9LCBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgemlwIGNvZGUnXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHF1b3RlSW5mbzogW3tcbiAgICAgICAgZ2FsbG9uc19yZXF1ZXN0ZWQ6IHt0eXBlOiBOdW1iZXJ9LFxuICAgICAgICBkZWxpdmVyeV9kYXRlOiB7dHlwZTogRGF0ZX1cbiAgICB9XVxufSwge1xuICAgIGNvbGxlY3Rpb246ICd1c2Vycydcbn0pO1xuXG51c2VyU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgICAvLyBDaGVjayBpZiBkb2N1bWVudCBpcyBuZXcgb3IgYSBuZXcgcGFzc3dvcmQgaGFzIGJlZW4gc2V0XG4gICAgaWYgKHRoaXMuaXNOZXcgfHwgdGhpcy5pc01vZGlmaWVkKCdwYXNzd29yZCcpKSB7XG4gICAgICAvLyBTYXZpbmcgcmVmZXJlbmNlIHRvIHRoaXMgYmVjYXVzZSBvZiBjaGFuZ2luZyBzY29wZXNcbiAgICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcztcbiAgICAgIGJjcnlwdC5oYXNoKGRvY3VtZW50LnBhc3N3b3JkLCBzYWx0Um91bmRzLFxuICAgICAgICBmdW5jdGlvbihlcnIsIGhhc2hlZFBhc3N3b3JkKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBuZXh0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQucGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9KTtcblxuLy8gaHR0cHM6Ly93d3cuc2l0ZXBvaW50LmNvbS91bmRlcnN0YW5kaW5nLW1vZHVsZS1leHBvcnRzLWV4cG9ydHMtbm9kZS1qcy9cbi8vbW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuXG5leHBvcnRzLnJlZ2lzdGVyTW9kZWxzID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbW9uZ29vc2UubW9kZWwoJ3VzZXInLCB1c2VyU2NoZW1hKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB9XG59Il19